<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.platform.ems.mapper.SysFormTypeMapper"> 
  <resultMap type="com.platform.ems.domain.SysFormType" id="SysFormTypeResult"> 
    <result property="id" column="id"/>  
    <result property="formType" column="form_type"/>  
    <result property="formName" column="form_name"/>  
    <result property="remark" column="remark"/>  
    <result property="createDate" column="create_date"/>  
    <result property="modifyDate" column="modify_date"/>  
    <result property="creatorAccount" column="creator_account"/>  
    <result property="updaterAccount" column="updater_account"/>  
    <result property="createById" column="create_by_id"/>  
    <result property="modifyById" column="modify_by_id"/>  
    <result property="status" column="status"/>  
    <result property="clientId" column="client_id"/> 
  </resultMap>  
  <sql id="selectSysFormTypeVo">select t.id, t.form_type, t.form_name, t.remark, t.create_date, t.modify_date, t.creator_account, t.updater_account, t.create_by_id, t.modify_by_id, t.status, t.client_id from s_sys_form_type t</sql>  
  <select id="selectSysFormTypeById" parameterType="Long" resultMap="SysFormTypeResult"> 
    <include refid="selectSysFormTypeVo"/> where t.id = #{id}
  </select>  
  <select id="selectSysFormTypeList" parameterType="com.platform.ems.domain.SysFormType" resultMap="SysFormTypeResult"> 
    <include refid="selectSysFormTypeVo"/>  
    <where> 
      <if test="formType != null  and formType != ''">and (
        <foreach collection="formType.split(';')" item="item" separator="or">t.form_type like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="formName != null  and formName != ''">and t.form_name like concat('%', #{formName}, '%')</if>  
      <if test="beginTime != null and beginTime!=''">and date_format(t.create_date,'%y%m%d') &gt;= date_format(#{beginTime},'%y%m%d')</if>  
      <if test="endTime != null and endTime!=''">and date_format(t.create_date,'%y%m%d') &lt;= date_format(#{endTime},'%y%m%d')</if>  
      <if test="modifyDate != null ">and t.modify_date = #{modifyDate}</if>  
      <if test="creatorAccount != null  and creatorAccount != ''">and (
        <foreach collection="creatorAccount.split(';')" item="item" separator="or">t.creator_account like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="updaterAccount != null  and updaterAccount != ''">and (
        <foreach collection="updaterAccount.split(';')" item="item" separator="or">t.updater_account like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="createById != null  and createById != ''">and (
        <foreach collection="createById.split(';')" item="item" separator="or">t.create_by_id like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="modifyById != null  and modifyById != ''">and (
        <foreach collection="modifyById.split(';')" item="item" separator="or">t.modify_by_id like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="status != null  and status != ''">and (
        <foreach collection="status.split(';')" item="item" separator="or">t.status like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="clientId != null  and clientId != ''">and (
        <foreach collection="clientId.split(';')" item="item" separator="or">t.client_id like concat('%', #{item}, '%')</foreach>)
      </if>  
      <if test="params.dataScope != null and params.dataScope!=''">${params.dataScope}</if> 
    </where> 
  </select>  
  <!--添加多个-->  
  <insert id="inserts">insert into s_sys_form_type 
    <trim prefix="(" suffix=")" suffixOverrides=",">id, form_type, form_name, remark, create_date, modify_date, creator_account, updater_account, create_by_id, modify_by_id, status, client_id,</trim> values 
    <foreach collection="list" item="item" separator=","> 
      <trim prefix=" (" suffix=")" suffixOverrides=",">#{item.formType}, #{item.formName}, #{item.remark}, #{item.createDate}, #{item.modifyDate}, #{item.creatorAccount}, #{item.updaterAccount}, #{item.createById}, #{item.modifyById}, #{item.status}, #{item.clientId},</trim> 
    </foreach> 
  </insert>  
  <!--更新-->  
  <update id="updateAllById">update s_sys_form_type 
    <trim prefix="SET" suffixOverrides=",">id = #{id}, form_type = #{formType}, form_name = #{formName}, remark = #{remark}, create_date = #{createDate}, modify_date = #{modifyDate}, creator_account = #{creatorAccount}, updater_account = #{updaterAccount}, create_by_id = #{createById}, modify_by_id = #{modifyById}, status = #{status}, client_id = #{clientId},</trim> where id = #{id}
  </update>  
  <!--更新多个-->  
  <update id="updatesAllById"> 
    <foreach collection="list" item="o" separator=";">update s_sys_form_type 
      <trim prefix="SET" suffixOverrides=",">id = #{id}, form_type = #{formType}, form_name = #{formName}, remark = #{remark}, create_date = #{createDate}, modify_date = #{modifyDate}, creator_account = #{creatorAccount}, updater_account = #{updaterAccount}, create_by_id = #{createById}, modify_by_id = #{modifyById}, status = #{status}, client_id = #{clientId},</trim> where id = #{id}
    </foreach> 
  </update> 
</mapper>
