<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.platform.ems.mapper.CosProductCostAttachmentMapper">

    <resultMap type="com.platform.ems.domain.CosProductCostAttachment" id="CosProductCostAttachmentResult">
        <result property="clientId" column="client_id"/>
        <result property="productCostAttachmentSid" column="product_cost_attachment_sid"/>
        <result property="productCostSid" column="product_cost_sid"/>
        <result property="fileType" column="file_type"/>
        <result property="fileName" column="file_name"/>
        <result property="filePath" column="file_path"/>
        <result property="remark" column="remark"/>
        <result property="creatorAccount" column="creator_account"/>
        <result property="createDate" column="create_date"/>
        <result property="updaterAccount" column="updater_account"/>
        <result property="updateDate" column="update_date"/>
        <result property="dataSourceSys" column="data_source_sys"/>
    </resultMap>

    <sql id="selectCosProductCostAttachmentVo">
        select client_id, product_cost_attachment_sid, product_cost_sid, file_type, file_name, file_path, remark, creator_account, create_date, updater_account, update_date, data_source_sys from s_cos_product_cost_attachment
    </sql>

    <select id="selectCosProductCostAttachmentList" parameterType="com.platform.ems.domain.CosProductCostAttachment"
            resultMap="CosProductCostAttachmentResult">
        <include refid="selectCosProductCostAttachmentVo"/>
        <where>
            <if test="clientId != null  and clientId != ''">
                and client_id = #{clientId}
                )
            </if>
            <if test="productCostSid != null  and productCostSid != ''">
                and product_cost_sid = #{productCostSid}
            </if>
            <if test="fileType != null  and fileType != ''">
                and file_type = #{fileType}
            </if>
            <if test="fileName != null  and fileName != ''">
                and file_name like concat('%', #{fileName}, '%')
            </if>
            <if test="filePath != null  and filePath != ''">
                and file_path = #{filePath}
            </if>
            <if test="creatorAccount != null  and creatorAccount != ''">
                and creator_account = #{creatorAccount}
            </if>
            <if test="createDate != null ">
                and create_date = #{createDate}
            </if>
            <if test="updaterAccount != null  and updaterAccount != ''">
                and updater_account = #{updaterAccount}
            </if>
            <if test="updateDate != null ">
                and update_date = #{updateDate}
            </if>
            <if test="dataSourceSys != null  and dataSourceSys != ''">
                and data_source_sys = #{dataSourceSys}
            </if>
        </where>
    </select>

    <select id="selectCosProductCostAttachmentById" parameterType="Long" resultMap="CosProductCostAttachmentResult">
        <include refid="selectCosProductCostAttachmentVo"/>
        where product_cost_attachment_sid = #{productCostAttachmentSid}
    </select>

    <insert id="insertCosProductCostAttachment" parameterType="com.platform.ems.domain.CosProductCostAttachment">
        insert into s_cos_product_cost_attachment
        <trim prefix="(" suffix=")" suffixOverrides=",">
            client_id,
            product_cost_attachment_sid,
            product_cost_sid,
            file_type,
            file_name,
            file_path,
            remark,
            creator_account,
            create_date,
            updater_account,
            update_date,
            data_source_sys,
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            #{clientId},
            #{productCostAttachmentSid},
            #{productCostSid},
            #{fileType},
            #{fileName},
            #{filePath},
            #{remark},
            #{creatorAccount},
            #{createDate},
            #{updaterAccount},
            #{updateDate},
            #{dataSourceSys},
        </trim>
    </insert>

    <update id="updateCosProductCostAttachment" parameterType="com.platform.ems.domain.CosProductCostAttachment">
        update s_cos_product_cost_attachment
        <trim prefix="SET" suffixOverrides=",">
            client_id = #{clientId},
            product_cost_sid = #{productCostSid},
            file_type = #{fileType},
            file_name = #{fileName},
            file_path = #{filePath},
            remark = #{remark},
            creator_account = #{creatorAccount},
            create_date = #{createDate},
            updater_account = #{updaterAccount},
            update_date = #{updateDate},
            data_source_sys = #{dataSourceSys},
        </trim>
        where product_cost_attachment_sid = #{productCostAttachmentSid}
    </update>

    <delete id="deleteCosProductCostAttachmentById" parameterType="Long">
        delete from s_cos_product_cost_attachment where product_cost_attachment_sid = #{productCostAttachmentSid}
    </delete>

    <delete id="deleteCosProductCostAttachmentByIds" parameterType="Long">
        delete from s_cos_product_cost_attachment where product_cost_attachment_sid in
        <foreach item="productCostAttachmentSid" collection="array" open="(" separator="," close=")">
            #{productCostAttachmentSid}
        </foreach>
    </delete>

    <delete id="deleteCosProductCostAttachmentByProductCostId" parameterType="Long">
        delete from s_cos_product_cost_attachment where product_cost_sid = #{productCostSid}
    </delete>

</mapper>
